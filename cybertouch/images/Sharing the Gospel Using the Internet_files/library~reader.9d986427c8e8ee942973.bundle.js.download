"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[347],{2130:(e,t,s)=>{s.d(t,{Z:()=>d});var n=s(67294);const r="mask-N3l_W",o="active-QSyzT";var i=s(94184),l=s.n(i),a=s(85893);const c=e=>[37,39,38,40].includes(e.keyCode)&&e.preventDefault(),d=e=>{let{className:t,active:s,...i}=e;const d=(0,n.useRef)();return(0,n.useEffect)((()=>{const e=d.current,t=e=>e.preventDefault();return e.addEventListener("touchmove",t,{passive:!1}),e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("touchmove",t,{passive:!1}),e.removeEventListener("wheel",t,{passive:!1})}}),[]),(0,a.jsx)("div",{className:l()(r,s&&o,t),onKeyDown:c,onTouchMove:e=>e.preventDefault(),ref:d,...i})}},58083:(e,t,s)=>{s.d(t,{Z:()=>P});var n=s(67294);const r={notifications:"notifications-AiKcn",layout:"layout-q7AFU",title:"title-okMO_",contentContainer:"contentContainer-_xJou",image:"image-O6Jgo",content:"content-ArxIM",description:"description-K3SQs",buttonsBar:"buttonsBar-jf2B4",navButtonsBar:"navButtonsBar-elFnz",navigationButtons:"navigationButtons-SIfXY"};var o=s(94184),i=s.n(o),l=s(86706),a=s(61027),c=s(6267),d=s(25935),h=s(91499),u=s(38233),v=s(12114),m=s(20999),f=s(70426),p=s(39587),y=s(666),g=s(29650),b=s(85893);const C=e=>{let{className:t,notifications:s,onClose:o,...C}=e;const[P,x]=(0,n.useState)(0),[S,Z]=(0,n.useState)([]),j=(0,l.v9)(c.I3),N=(0,l.I0)(),{description:T,image:_,title:k,id:w,link:A}=s[P]||{};if((0,n.useEffect)((()=>{Z((e=>[...e,w]))}),[w]),!s.length)return o&&o(),null;const R=0!==P?()=>x((e=>e-1)):void 0,I=P!==s.length-1?()=>x((e=>e+1)):void 0,E=()=>{const e=s.map((e=>{let{id:t}=e;return t}));N((0,a.setVisibleNotifications)([])),N((0,a.updateAndRecordSeenNotifications)(S)),N((0,a.updateSeenNotifications)(e)),o&&o()};return(0,b.jsx)(f.Alert,{className:i()(t,r.notifications),onClose:E,children:(0,b.jsxs)("div",{className:r.layout,children:[(0,b.jsx)(y.Gn,{className:r.title,children:(0,d.ZP)(k)}),(0,b.jsxs)("div",{className:r.contentContainer,children:[_&&(0,b.jsx)(m.Z,{className:r.image,..._,sizes:"60px"}),(0,b.jsxs)("div",{className:r.content,children:[(0,b.jsx)(g.l5,{as:"p",className:r.description,children:(0,d.ZP)(T)}),(0,b.jsxs)("div",{className:r.buttonsBar,children:[A&&(0,b.jsx)(p.KM,{className:r.cta,href:A.href,target:A.target,children:(0,d.ZP)(A.text)}),s.length<=1&&(0,b.jsx)(p.kq,{className:r.close,onClick:E,children:j("close")})]})]})]}),s.length>1&&(0,b.jsxs)("div",{className:r.navButtonsBar,children:[(0,b.jsx)(p.gh,{className:r.dismissAll,onClick:()=>{const e=s.map((e=>{let{id:t}=e;return t}));N((0,a.setVisibleNotifications)([])),N((0,a.updateAndRecordSeenNotifications)(e)),o&&o()},children:j("dismissAllNotificationsButton")}),(0,b.jsxs)("div",{className:r.navigationButtons,children:[(0,b.jsx)(h.Z,{disabled:!R,onClick:R,size:"small",Icon:u.Z}),(0,b.jsx)(h.Z,{disabled:!I,onClick:I,size:"small",Icon:v.Z})]})]})]})})};C.displayName="Notifications";const P=C},79167:(e,t,s)=>{s.d(t,{Z:()=>m});var n=s(67294),r=s(94184),o=s.n(r);const i="panelContent-AXjYT",l="webkitScrollbar-GFaT3";var a=s(76276),c=s(7916),d=s(85893);function h(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u=(a.ZP?()=>{const e=document.createElement("iframe");e.src="#",document.body.appendChild(e);let t=e.contentWindow.document;t.open(),t.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),t.close();let s=t.body.firstElementChild.offsetHeight;return document.body.removeChild(e),e=>e*s}:e=>18*e)();class v extends n.Component{constructor(){super(...arguments),h(this,"handleKeyDown",(e=>{switch(e.keyCode){case 38:e.normalizedDeltaY=-40,this.props.handleVirtualScroll(e);break;case 40:e.normalizedDeltaY=40,this.props.handleVirtualScroll(e)}})),h(this,"handleTouchStart",(e=>{this.lastTouchPos=(e.targetTouches?e.targetTouches[0]:e).clientY})),h(this,"handleTouchMove",(e=>{if(this.props.disableVirtualDragging)return;const t=(e.targetTouches?e.targetTouches[0]:e).clientY;e.normalizedDeltaY=this.lastTouchPos-t,this.lastTouchPos=t,this.props.handleVirtualScroll(e)})),h(this,"normalizeWheel",(e=>{e.normalizedDeltaY=1===e.deltaMode?2*u(e.deltaY):e.deltaY,this.props.handleVirtualScroll(e)}))}componentDidMount(){this.lastTouchPos=0,this.props.forwardedRef.current.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.props.forwardedRef.current.addEventListener("wheel",this.normalizeWheel,{passive:!1})}componentWillUnmount(){this.props.forwardedRef.current.removeEventListener("touchmove",this.handleTouchMove),this.props.forwardedRef.current.removeEventListener("wheel",this.normalizeWheel)}getScrollbarStyles(){return a.ZP&&window.navigator.platform.startsWith("Win")&&l}render(){const{children:e,className:t,forwardedRef:s,onKeyDownCapture:n,testId:r}=this.props;return(0,d.jsx)("div",{onTouchStart:this.handleTouchStart,onKeyDown:this.handleKeyDown,onKeyDownCapture:n,ref:s,className:o()(i,this.getScrollbarStyles(),t),"data-testid":`${r}-panel-content`,children:e})}}const m=(0,n.forwardRef)(((e,t)=>{const s=(0,n.useRef)(),r=(0,c.q)([t,s]);return(0,d.jsx)(v,{...e,forwardedRef:r})}))},23977:(e,t,s)=>{s.d(t,{Z:()=>l});var n=s(94184),r=s.n(n);const o="panelHeader-gKRHQ";var i=s(85893);const l=e=>{let{children:t,className:s,style:n,innerRef:l,testId:a}=e;return(0,i.jsx)("header",{ref:l,className:r()(o,s),style:n,"data-testid":`${a}-panel-header`,children:t})}},6912:(e,t,s)=>{s.d(t,{Z:()=>d});var n=s(67294),r=s(94184),o=s.n(r);const i="PanelPlatformFooter-DeXJM";var l=s(85893);function a(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class c extends n.Component{constructor(){super(...arguments),a(this,"render",(()=>(0,l.jsx)("div",{className:o()(i,this.props.className),ref:e=>this.self=e,children:(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"#page > platform-footer { display: none; }"}})})))}componentDidMount(){this.footer=document.querySelector("platform-footer"),this.footer&&(this.props.forceMobile&&(window.platformConfig.footerConfig.forceMobile=!0,document.dispatchEvent(new CustomEvent("checkcontext"))),this.props.panelFooter&&(window.platformConfig.footerConfig={...window.platformConfig.footerConfig,forceMobile:!0,noNavigation:!0,social:{removeSocialLinks:!0}},document.dispatchEvent(new CustomEvent("checkcontext"))),this.self.append(this.footer))}componentWillUnmount(){this.props.forceMobile&&(window.platformConfig.footerConfig.forceMobile=!1,document.dispatchEvent(new CustomEvent("checkcontext"))),this.props.panelFooter&&(window.platformConfig.footerConfig={...window.platformConfig.footerConfig,forceMobile:!1,noNavigation:!1,social:{removeSocialLinks:!1}},document.dispatchEvent(new CustomEvent("checkcontext"))),document.querySelector("#page").append(this.footer)}componentDidUpdate(e,t){this.props.forceMobile!==e.forceMobile&&(window.platformConfig.footerConfig.forceMobile=this.props.forceMobile,document.dispatchEvent(new CustomEvent("checkcontext")))}}const d=c},44295:(e,t,s)=>{s.d(t,{Z:()=>l});var n=s(94184),r=s.n(n);const o="sidePanel-sfJHO";var i=s(85893);const l=e=>{let{children:t,className:s,Component:n="aside",...l}=e;return(0,i.jsx)(n,{className:r()(o,s),...l,children:t})}},26503:(e,t,s)=>{s.d(t,{Z:()=>T});var n=s(67294),r=s(34445),o=s(94184),i=s.n(o),l=s(23810),a=s(86706),c=s(16550),d=s(14791),h=s(18327),u=s(6267),v=s(63927),m=s(66527),f=s(44295),p=s(88610),y=s(34834),g=s(96134),b=s(85893);const C=(0,l.ZP)({resolved:{},chunkName:e=>"bookmarks-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(289),s.e(958)]).then(s.bind(s,14421)).catch((()=>({default:y.Z}))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 14421}},{fallback:(0,b.jsx)(p.Z,{children:(0,b.jsx)(m.Z,{})})}),P=(0,l.ZP)({resolved:{},chunkName:e=>"options-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(285),s.e(729)]).then(s.bind(s,66753)).catch((()=>({default:y.Z}))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 66753}},{fallback:(0,b.jsx)(p.Z,{children:(0,b.jsx)(m.Z,{})})}),x=(0,l.ZP)({resolved:{},chunkName:e=>"related-content-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(88),s.e(285),s.e(980),s.e(111)]).then(s.bind(s,1888)).catch((()=>({default:y.Z}))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 1888}},{fallback:(0,b.jsx)(p.Z,{children:(0,b.jsx)(m.Z,{})})}),S=(0,l.ZP)({resolved:{},chunkName:e=>"study-sets-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(289),s.e(93)]).then(s.bind(s,53323)).catch((()=>({default:y.Z}))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 53323}},{fallback:(0,b.jsx)(p.Z,{children:(0,b.jsx)(m.Z,{})})}),Z={BookmarksPanel:C,OptionsPanel:P,RelatedContentPanel:x,StudySetsPanel:S},j=e=>{let{activePanel:t,className:s,disambiguate:o,floatingPanels:l=[],focusOnMount:a,handleVirtualScroll:c,onClose:d,openCrossLinkOverlay:h,page:u,selectI18nStringById:m,sidePanelBottomBufferClassName:p,...y}=e;const C=(0,n.useRef)(),P=(0,n.useRef)(null),[x,S]=(0,n.useState)(t),[j,N]=(0,n.useState)(l),[T,_]=(0,n.useState)(null),k=(0,n.useCallback)((()=>{_(null),S(t),N(l)}),[t,l]);(0,v.rf)((()=>{t||l.length?k():_(!0)}),[t,l]),(0,n.useEffect)((()=>{"library"===u&&"RelatedContentPanel"===t&&d()}),[u,t,d]);const w=Z[x]||null,A=null===P.current&&!!w;(0,n.useEffect)((()=>{P.current=w}),[w]);const R=(0,n.useCallback)((()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.focus()}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Z,{className:i()(s,r.Z.sidePanel,!t&&r.Z.closed),onTransitionEnd:T?k:e=>{var t;e.target===e.currentTarget&&a&&(null===(t=C.current)||void 0===t||t.focus())},children:w&&(0,b.jsx)(w,{disambiguate:o,handleVirtualScroll:c,onClose:d,focusRef:C,page:u,setFocus:a&&!A&&!j.length&&R,sidePanelBottomBufferClassName:p,...y})}),(0,b.jsx)("div",{className:i()(s,r.Z.floatingPanels,r.Z.sidePanel,!l.length&&r.Z.closed),children:j.filter(Boolean).map(((e,t,s)=>(0,b.jsx)(g.Z,{className:r.Z.sidePanel,sidePanelBottomBufferClassName:p,disambiguate:o,handleVirtualScroll:c,isFirstPanel:0===t&&!x,isTopPanel:s.length-1===t,openCrossLinkOverlay:h,panel:e,page:u,slideIn:!!x||0!==t,focusRef:!(x||0!==t)&&C},e.key)))})]})},N=e=>{const t=(0,c.TH)(),s=(0,a.v9)(u.p2),r=(0,a.v9)((e=>(0,u.Qw)(e,t))),o=(0,a.v9)(u.eZ),i=(0,v.V2)(),l=(0,a.I0)(),m=(0,n.useMemo)((()=>(0,d.DE)({onClose:()=>(0,h.dL)(null)},l)),[l]);return(0,b.jsx)(j,{activePanel:s,floatingPanels:r,focusOnMount:o,selectI18nStringById:i,...m,...e})},T=N},64930:(e,t,s)=>{s.d(t,{Z:()=>b});const n="sidePanelHeader-HjxsR",r="headerTitle-riZZ_",o="headerSpace-cci_Y";var i=s(94184),l=s.n(i),a=s(63927),c=s(80784),d=s(38233),h=s(28940),u=s(91499),v=s(23977),m=s(21592),f=s(85893);const p=(0,u.e)(c.Z),y=(0,u.e)(d.Z);p.displayName="CloseButton",y.displayName="ArrowLeftButton";const g=e=>{let{className:t,onBack:s,onClose:i,style:a,selectI18nStringById:c,title:d,titleRef:u,testId:g,truncated:b}=e;return(0,f.jsxs)(v.Z,{className:l()(t,n),style:a,testId:g,children:[s?(0,f.jsx)(y,{onClick:s,title:c("backButtonText"),"data-testid":`${g}-back`}):(0,f.jsx)("div",{className:o}),(0,f.jsx)("div",{className:r,ref:u,tabIndex:"-1",children:d&&(b?(0,f.jsx)(m.Z,{className:r,title:d,"data-testid":`${g}-panel-title`,children:d}):(0,f.jsx)(h.Z,{className:r,title:d,"data-testid":`${g}-panel-title`,children:d}))}),i&&(0,f.jsx)(p,{onClick:i,title:c("closePanelButtonText"),"data-testid":`${g}-panel-close`})]})},b=e=>{const t=(0,a.V2)();return(0,f.jsx)(g,{selectI18nStringById:t,...e})}},88610:(e,t,s)=>{s.d(t,{Z:()=>h});var n=s(67294),r=s(86706),o=s(14791),i=s(18327),l=s(79167),a=s(64930),c=s(85893);const d=e=>{let{children:t,onClose:s}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.Z,{onClose:s}),(0,c.jsx)(l.Z,{children:t})]})},h=e=>{const t=(0,r.I0)(),s=(0,n.useMemo)((()=>(0,o.DE)({onClose:()=>(0,i.dL)(null)},t)),[t]);return(0,c.jsx)(d,{...s,...e})}},34834:(e,t,s)=>{s.d(t,{Z:()=>c});const n="noInternetRelatedContent-k5JxJ",r="noInternetRelatedContentTitle-EaB0G",o="noInternetRelatedContentText-Zc542";var i=s(63927),l=s(88610),a=s(85893);const c=e=>{let{onClose:t,titleRef:s}=e;const c=(0,i.V2)();return(0,a.jsx)(l.Z,{onClose:t,children:(0,a.jsxs)("section",{className:n,children:[(0,a.jsx)("p",{className:r,ref:s,tabIndex:"-1",children:c("noInternetRelatedContentTitle")}),(0,a.jsx)("p",{className:o,children:c("noInternetRelatedContentText")})]})})}},96134:(e,t,s)=>{s.d(t,{Z:()=>_});var n=s(67294),r=s(79424),o=s(94184),i=s.n(o),l=s(23810),a=s(86706),c=s(14791),d=s(18327),h=s(6267),u=s(63927),v=s(66527),m=s(79167),f=s(44295),p=s(64930),y=s(85893);const g=(0,l.ZP)({resolved:{},chunkName:e=>"annotation-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(262),s.e(734)]).then(s.bind(s,85484)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 85484}},{fallback:(0,y.jsx)(v.Z,{})}),b=(0,l.ZP)({resolved:{},chunkName:e=>"associated-media-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(88),s.e(120)]).then(s.bind(s,84570)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 84570}},{fallback:(0,y.jsx)(v.Z,{})}),C=(0,l.ZP)({resolved:{},chunkName:e=>"cross-ref-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(262),s.e(395)]).then(s.bind(s,62059)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 62059}},{fallback:(0,y.jsx)(v.Z,{})}),P=(0,l.ZP)({resolved:{},chunkName:e=>"disambiguation-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(88),s.e(980),s.e(262),s.e(942),s.e(883)]).then(s.bind(s,70751)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 70751}},{fallback:(0,y.jsx)(v.Z,{})}),x=(0,l.ZP)({resolved:{},chunkName:e=>"editor-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(297),s.e(683),s.e(278),s.e(766),s.e(913)]).then(s.bind(s,68711)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 68711}},{fallback:(0,y.jsx)(v.Z,{})}),S=(0,l.ZP)({resolved:{},chunkName:e=>"footnote",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>Promise.all([s.e(262),s.e(689)]).then(s.bind(s,96631)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 96631}},{fallback:(0,y.jsx)(v.Z,{})}),Z=(0,l.ZP)({resolved:{},chunkName:e=>"move-annotation-to-set-panel",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:e=>s.e(380).then(s.bind(s,28473)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(e){return 28473}},{fallback:(0,y.jsx)(v.Z,{})}),j={AnnotationPanel:g,AssociatedMediaPanel:b,CrossRefPanel:C,DisambiguationPanel:P,EditorPanel:x,FootnotePanel:S,MoveAnnotationToSetPanel:Z},N=e=>{let{className:t,disambiguate:s,focusOnMount:o,focusRef:l,handleVirtualScroll:a,isTopPanel:c,isFirstPanel:d,openCrossLinkOverlay:h,panel:v,removeFloatingPanel:g,setActivePanel:b,sidePanelBottomBufferClassName:C,slideIn:P}=e;const S=(0,n.useRef)(),Z=l||S,[N,T]=(0,n.useState)(),[_,k]=(0,n.useState)(),w=j[v.Component]||null,A=r.Z[v.Component.toLowerCase()];(0,u.nw)((()=>{if(c){const e=document.querySelectorAll("[class*='sidePanel'] video");null==e||e.forEach((e=>e.pause()))}setTimeout((()=>k(!0)),50)}));const R=()=>b(null);return(0,y.jsx)(f.Z,{className:i()(t,r.Z.floatingPanel,P&&r.Z.slideIn,(N||!_&&o)&&r.Z.offScreen),onTransitionEnd:N?g:e=>{var t;e.target===e.currentTarget&&o&&(null===(t=Z.current)||void 0===t||t.focus())},tabIndex:"-1",children:w===x?(0,y.jsx)(x,{handleVirtualScroll:a,onClose:R,...v.content}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onBack:!d&&(()=>T(!0)),onClose:R,title:v.title,truncated:!0,titleRef:Z,testId:`${v.testId}`}),(0,y.jsxs)(m.Z,{handleVirtualScroll:a,testId:`${v.testId}`,children:[(0,y.jsx)(w,{className:A,disambiguate:s,onClose:R,closePanel:()=>T(!0),openCrossLinkOverlay:h,...v.content}),(0,y.jsx)("div",{className:C})]})]})})},T=e=>{const t=(0,a.v9)(h.eZ),s=(0,a.I0)(),r=(0,n.useMemo)((()=>(0,c.DE)({removeFloatingPanel:d.Rd,setActivePanel:d.dL},s)),[s]);return(0,y.jsx)(N,{focusOnMount:t,...r,...e})},_=T},89516:(e,t,s)=>{s.d(t,{Z:()=>m});const n="studySetsButton-kdxyM",r="noActiveSet-Ix634";var o=s(94184),i=s.n(o),l=s(86706),a=s(6267),c=s(63927),d=s(39587),h=s(51390),u=s(85893);const v=e=>{let{activeSet:t,className:s,onClick:o,selectI18nStringById:l}=e;return(0,u.jsxs)(d.gh,{className:i()(s,n,!t&&r),onClick:o,title:l("studySetsTitle"),"data-testid":"study-set-tab",children:[(0,u.jsx)(h.Z,{}),(0,u.jsx)("div",{children:null==t?void 0:t.name})]})},m=e=>{const t=(0,l.v9)(a.Er),s=(0,c.V2)();return(0,u.jsx)(v,{activeSet:t,selectI18nStringById:s,...e})}},21592:(e,t,s)=>{s.d(t,{Z:()=>l});const n="truncatedText-HOrGJ";var r=s(94184),o=s.n(r),i=s(85893);const l=e=>{let{children:t,className:s,maxLines:r,style:l,title:a}=e;return(0,i.jsx)("div",{style:{...l,"--max-lines":r},className:o()(n,s),title:a,children:t})}},70466:(e,t,s)=>{function n(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z:()=>r});const r=class{constructor(){var e=this;let{history:t,defaultSidePanelRef:s,crossLinkMode:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,"_platformHeader",void 0),n(this,"_overrideHeaderObserver",!1),n(this,"_headerObserver",void 0),n(this,"_scrollContainer",void 0),n(this,"_history",void 0),n(this,"_headerVisible",!0),n(this,"_preventVirtualScroll",!1),n(this,"cleanup",(()=>{this._headerObserver.disconnect(),this._historyCleanup(),document.removeEventListener("DOMContentLoaded",this.resetScrollPosition)})),n(this,"resetScrollPosition",(()=>"PUSH"===this._history.action.toUpperCase()&&(this._history.location.hash?this.scrollToHash():this.handleScrollToTop()))),n(this,"getContentTopOffset",(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"content"!==t.id&&t.offsetParent?e.getContentTopOffset(t.offsetParent,s+t.offsetTop):s})),n(this,"overrideHeaderObserver",(()=>{this._overrideHeaderObserver=!0})),n(this,"scrollToHash",(()=>{if(!this._history.location.hash)return void this.handleScrollToTop();let e=this._history.location.hash.slice(1),t=/^\d/.test(e)?`p${e}`:e,s=`#${t.replace(/(\W)/g,"\\$1")}`,n=`#${t.replace(/[^\w-].*$/,"")}`,r=document.querySelector(`${s}, ${n}`);r&&(this.overrideHeaderObserver(),this._scrollContainer.scrollTop=this.getContentTopOffset(r)+this._platformHeader.clientHeight)})),n(this,"handleScrollToTop",(()=>{this._scrollContainer.scrollTop>this._platformHeader.clientHeight&&(this._scrollContainer.scrollTop=this._platformHeader.clientHeight)})),n(this,"handleHeaderObserver",(e=>{var t;this._overrideHeaderObserver?this._overrideHeaderObserver=!1:e[0].isIntersecting?null!==(t=this._defaultSidePanelRef)&&void 0!==t&&t.current&&(this._defaultSidePanelRef.current.scrollTop=0):this._scrollContainer.scrollTop=this._platformHeader.getBoundingClientRect().bottom+this._scrollContainer.scrollTop,this._headerVisible=e[0].isIntersecting})),n(this,"handleVirtualScroll",(e=>{if(this._preventVirtualScroll)return;const t=this._platformHeader.getBoundingClientRect().bottom+this._scrollContainer.scrollTop,s=e.currentTarget,n=e.normalizedDeltaY>0,r=this._scrollContainer.scrollTop<=t,o=0===s.scrollTop,i=s.scrollTop+s.clientHeight===s.scrollHeight;e.preventDefault(),n||o?this._headerVisible||!n&&o&&r?this._scrollContainer.scrollTop+=e.normalizedDeltaY:n&&!i&&(s.scrollTop+=e.normalizedDeltaY):s.scrollTop+=e.normalizedDeltaY})),n(this,"scrollHeaderOffScreen",(()=>{this._headerVisible&&this._scrollContainer.scrollTo({top:this._platformHeader.clientHeight,left:0,behavior:"smooth"})})),this._scrollContainer=document.documentElement,this._platformHeader=document.querySelector("#header-wrapper"),this._defaultSidePanelRef=s,this._history=t,this._preventVirtualScroll=r,this._headerObserver=new IntersectionObserver(this.handleHeaderObserver,{root:null,rootMargin:"-3px"}),this._headerObserver.observe(this._platformHeader),this._historyCleanup=this._history.listen(((e,t)=>{"POP"===t.toUpperCase()&&this.overrideHeaderObserver(),"PUSH"===t.toUpperCase()&&e.hash&&this.scrollToHash()})),document.addEventListener("DOMContentLoaded",this.resetScrollPosition)}}},34445:(e,t,s)=>{s.d(t,{Z:()=>n});const n={sidePanel:"sidePanel-epabC",closed:"closed-LZcGp",floatingPanels:"floatingPanels-rVdYZ"}},79424:(e,t,s)=>{s.d(t,{Z:()=>n});const n={floatingPanel:"floatingPanel-D6P9Q",slideIn:"slideIn-ZdpsW",offScreen:"offScreen-ayhu7",associatedmedia:"associatedmedia-qHJ7v"}}}]);
//# sourceMappingURL=library~reader.9d986427c8e8ee942973.bundle.js.map